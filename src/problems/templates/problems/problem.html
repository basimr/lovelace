{% extends "base.html" %}

{% block preload_javascript %}
<!-- MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<style type="text/css" media="screen">
#editor {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
</style>
{% endblock %}

{% block page_title %}
    {{ problem.title }} | Project Lovelace
{% endblock %}

{% block body %}
    <meta name="problem_name" content="problem.name">
    <section class="section">
      <br>
      <h1 class="title is-2 has-text-centered">{{ problem.title }}</h1>
      <h3 class="subtitle is-5 has-text-centered is-italic"><strong>Useful to know</strong>: {% block required %}{% endblock %}</h3>

      <div class="tabs is-centered is-boxed">
        <ul>
          <li class="is-active">
            <a>
              <span class="icon is-small"><i class="fas fa-align-justify" aria-hidden="true"></i></span>
              <span>Description</span>
            </a>
          </li>
          <li>
            <a>
              <span class="icon is-small"><i class="fas fa-history" aria-hidden="true"></i></span>
              <span>Submissions</span>
            </a>
          </li>
          <li>
            <a>
              <span class="icon is-small"><i class="fas fa-book" aria-hidden="true"></i></span>
              <span>Notes and references</span>
            </a>
          </li>
          <li>
            <a>
              <span class="icon is-small"><i class="far fa-comments" aria-hidden="true"></i></span>
              <span>Forum</span>
            </a>
          </li>
          <li>
            <a>
              <span class="icon is-small"><i class="fas fa-check-double" aria-hidden="true"></i></span>
              <span>Solution</span>
            </a>
          </li>
        </ul>
      </div>

    <div class="container">
        <p class="has-text-justified">
            {% block introduction %}
            {% endblock %}
            {% block problem_body %}
            {% endblock %}
        </p>
        
        <br>
        
        <p>
            <strong>Input</strong>: {% block input_description %}{% endblock %}
        </p>
        <br>
        <p>
        <strong>Output</strong>: {% block output_description %}{% endblock %}
        </p>
        
        <br>
        
        <article class="message">
          <div class="message-header">
            <p>Example input</p>
          </div>
          <div class="message-body" style="font-family: monospace; text-align: justify">
              {% block input_example %}{% endblock %}
          </div>
        </article>

        <article class="message">
          <div class="message-header">
            <p>Example output</p>
          </div>
          <div class="message-body" style="font-family: monospace; text-align: justify">
              {% block output_example %}{% endblock %}
          </div>
        </article>

      </div>
    </section>


    <br>

    <div class="container">
    <div class="columns">
      <div class="column is-three-quarters" style="position: relative;">
        <div id="editor">def earthquake_epicenter_2d(x1, y1, t1, x2, y2, t2, x3, y3, t3):
    pass
    return (x0, y0)</div>
      </div>

      <div class="is-divider-vertical" data-content="OR"></div>

      <div class="column is-one-quarter">
        <div class="container">
          <div class="file has-name is-boxed">
            <label class="file-label">
              <form action="{% url 'problems:detail' problem.name %}" method="post" id="code-submit-form" enctype="multipart/form-data">
                {% csrf_token %}
                {{ form }}
                <input class="file-input" type="file" name="resume">
              </form>
              <span class="file-cta">
                <span class="file-icon">
                  <i class="fas fa-upload"></i>
                </span>
                <span class="file-label">
                  Upload file
                </span>
              </span>
              <span class="file-name">
                earthquake_2d_69420.py
              </span>
            </label>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <br><br>
{% endblock %}

{% block postload_javascript %}
<!-- Ace Editor -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.1/ace.js" type="text/javascript" charset="utf-8"></script>

<script>
  var editor = ace.edit("editor");
  editor.setTheme("ace/theme/eclipse");
  editor.session.setMode("ace/mode/python");
  editor.resize();
</script>
{% endblock %}
